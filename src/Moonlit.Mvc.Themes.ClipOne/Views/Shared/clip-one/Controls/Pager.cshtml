@using Moonlit
@using Moonlit.Mvc
@using Moonlit.Mvc.Properties
@model Moonlit.Mvc.Controls.Pager
 
<ul class="pagination ">
    @if (Model.PageIndex != 1)
    {
        <li><a aria-label="Previous" href="#" onclick="submit_with_action(this, null, 'pageIndex', 1);"><span aria-hidden="true">&laquo;</span></a></li>
    }
    @if (Model.PageIndex - 4 > 1)
    {
        <li><a href="#" onclick="submit_with_action(this, null, 'pageIndex', @(Model.PageIndex - 5));">...</a></li>
    }
    @for (int i = Math.Max(Model.PageIndex - 4, 1); i <= Math.Min(Model.PageIndex + 4, Model.PageCount); i++)
    {
        <li class="@(i == Model.PageIndex ? "current" : "")"><a href="#" onclick="submit_with_action(this, null, 'pageIndex', @i);">@i</a></li>
    }
    @if (Model.PageIndex + 4 < Model.PageCount)
    {
        <li><a href="#" onclick="submit_with_action(this, null, 'pageIndex', @(Model.PageIndex + 5));">...</a></li>
    }
    @if (Model.PageIndex < Model.PageCount)
    {
        <li><a href="#" aria-label="Next" onclick="submit_with_action(this, null, 'pageIndex', @(Model.PageIndex + 1));"><span aria-hidden="true">&raquo;</span></a></li>
    }

    <li>
        <span>@string.Format(MvcCultureTextResources.Get("Pagination.Status"), Model.ItemCount, Model.PageIndex, Model.PageCount) 每页共 <input style="border: none; margin: 0; padding: 0; width: 40px;text-align: center" class="page-size" type="text" onchange="submit_with_action(this, null, 'pageSize', $(this).val())"  value="@Model.PageSize"/>条记录</span>
    </li>
</ul>

